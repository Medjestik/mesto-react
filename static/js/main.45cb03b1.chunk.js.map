{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","utils/api.js","utils/utils.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onLikeClick","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","link","name","onClick","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","handleCardLike","handleCardDelete","UserData","avatar","about","map","key","Footer","ImagePopup","onClose","onShow","PopupWithForm","title","submitText","isOpen","onSubmit","errorForm","inputValues","children","action","noValidate","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","errorName","setErrorName","errorDescription","setErrorDescription","error","useEffect","errorText","e","preventDefault","id","value","onChange","target","checkValidity","validationMessage","placeholder","minLength","maxLength","required","pattern","EditAvatarPopup","onUpdateAvatar","linkRef","useRef","current","ref","AddPlacePopup","setLink","errorLink","setErrorLink","DeleteCardPopup","onDeleteCard","currentCard","api","options","this","url","baseUrl","headers","response","ok","json","Promise","reject","statusText","console","message","fetch","method","then","_handleResponse","catch","_handleError","body","JSON","stringify","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","setIsLoading","setCurrentUser","setCurrentCard","selectedCard","setSelectedCard","setCards","closeAllPopups","getUserInfo","data","err","getInitialCards","handleEscClose","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","Provider","path","removeLike","newCard","newCards","item","putLike","editUserInfo","finally","changeAvatar","addCard","deleteCard","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.45cb03b1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.94cbab21.svg\";","import React from 'react';\r\nimport logo from '../images/logo.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Логотип\" />\r\n        </header>\r\n    );\r\n  }\r\n\r\n\r\nexport default Header;","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React, { useContext } from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card({ card, onCardClick, onLikeClick, onCardDelete }) {\r\n\r\n    const currentUser = useContext(CurrentUserContext);\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (`place__delete-button ${isOwn ? '' : 'place__delete-button_disabled'}`);\r\n\r\n    const isLiked = card.likes.some((like) => like._id === currentUser._id);\r\n    const cardLikeButtonClassName = (`place__like-button ${isLiked ? 'place__like-button-active' : '' }`);\r\n\r\n    function handleClick() {\r\n        onCardClick(card.name, card.link);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onLikeClick(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n        \r\n    return (\r\n        <li className=\"card place__card\">\r\n            <img className=\"place__img\" src={card.link} alt={card.name} onClick={handleClick}/>\r\n            <button className={cardDeleteButtonClassName} onClick={handleDeleteClick} type=\"button\" />\r\n            <div className=\"place__info\">\r\n                <p className=\"place__caption\">{card.name}</p>\r\n                <div className=\"place__likes-container\">\r\n                    <button className={cardLikeButtonClassName} onClick={handleLikeClick} type=\"button\" />\r\n                    <p className=\"place__like-count\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n  }\r\n  \r\n  export default Card;","import React, { useContext } from 'react';\r\nimport Card from '../components/Card.js'\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, handleCardLike, handleCardDelete }) {\r\n\r\n    const UserData = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\">\r\n                    <img className=\"profile__avatar-img\" alt=\"Аватар\" src={UserData.avatar} />\r\n                    <button className=\"profile__avatar-overlay\" type=\"button\" onClick={onEditAvatar} />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{UserData.name}</h1>\r\n                    <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile} />\r\n                    <p className=\"profile__subtitle\">{UserData.about}</p>\r\n                </div>\r\n                <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace} />\r\n            </section>\r\n\r\n            <section className=\"places\">\r\n                <ul className=\"place__container\">\r\n                    {cards.map((card) => \r\n                        <Card \r\n                            key={card._id}\r\n                            card={card}\r\n                            onCardClick={onCardClick}\r\n                            onLikeClick={handleCardLike}\r\n                            onCardDelete={handleCardDelete}\r\n                        />\r\n                    )}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\r\n    return (\r\n        <div className={`popup popup__photo ${card.onShow ? \"popup_opened\" : \"\"}`}>\r\n        <figure className=\"popup__photo-container container\">\r\n            <button className=\"popup__close-button popup__photo_type_close-button\" onClick={onClose} type=\"button\" />\r\n            <img className=\"popup__img\" src={card.link} alt={card.name} />\r\n            <figcaption className=\"popup__caption\">{card.name}</figcaption>\r\n        </figure>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import React from 'react';\r\n\r\nfunction PopupWithForm({ title, name, submitText, isOpen, onClose, onSubmit, errorForm,  inputValues, children }) {\r\n\r\n    return (\r\n        <div className={`popup popup__${name} ${isOpen ? \"popup_opened\" : \"\"}`}>\r\n              <form className=\"popup__container container\" onSubmit={onSubmit} name={name} action=\"#\" noValidate>\r\n                  <button className=\"popup__close-button\" onClick={onClose} type=\"button\" />\r\n                  <h2 className=\"popup__title\">{title}</h2>\r\n                  {children}\r\n                  <button \r\n                  className={`popup__submit-button popup__${name}_type_submit-button ${!(inputValues && !errorForm) ? \"popup__submit-button_disabled\" : \"\"}`} \r\n                  type=\"submit\">\r\n                      {submitText}\r\n                  </button>\r\n              </form>\r\n          </div>\r\n    )\r\n}\r\n\r\nexport default PopupWithForm;","import React, { useContext } from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const [errorName, setErrorName] = React.useState({});\r\n    const [errorDescription, setErrorDescription] = React.useState({});\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const errorForm = errorName.error || errorDescription.error;\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n        if (e.target.checkValidity()) {\r\n            setErrorName({\r\n                errorText: '',\r\n                error: false\r\n            });\r\n        }\r\n        else {\r\n            setErrorName({\r\n                errorText: e.target.validationMessage,\r\n                error: true\r\n            });\r\n        }  \r\n    }\r\n\r\n    function handleChangeDescription(e) {\r\n        setDescription(e.target.value);\r\n        if (e.target.checkValidity()) {\r\n            setErrorDescription({\r\n                errorText: '',\r\n                error: false\r\n            });\r\n        }\r\n        else {\r\n            setErrorDescription({\r\n                errorText: e.target.validationMessage,\r\n                error: true\r\n            });\r\n        }  \r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n        setErrorName({\r\n            errorText: '',\r\n            error: false\r\n        });\r\n        setErrorDescription({\r\n            errorText: '',\r\n            error: false\r\n        });\r\n    }, [currentUser, isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Редактировать профиль\"\r\n            name=\"profile\"\r\n            submitText={`${isLoading ? \"Сохранение...\" : \"Сохранить\"}`}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            errorForm={errorForm}\r\n            inputValues={name && description}\r\n        >\r\n        <label className=\"popup__field\">\r\n            <input \r\n            className={`popup__input popup__input_type_name ${errorName.error ? \"popup__input_novalid\" : \"\"}`}\r\n            type=\"text\" \r\n            id=\"name\"\r\n            value={name || ''}\r\n            onChange={handleChangeName}\r\n            name=\"name\" \r\n            placeholder=\"Имя\" \r\n            minLength=\"2\" \r\n            maxLength=\"40\" \r\n            required \r\n            pattern=\"[A-Za-zА-Яа-яЁё -]{1,}\" \r\n            />\r\n            <span className={`popup__input-error ${errorName.error ? \"popup__input-error_active\" : \"\"}`} id=\"name-error\">\r\n                {errorName.errorText}\r\n            </span>\r\n        </label>\r\n        <label className=\"popup__field\">\r\n            <input \r\n            className={`popup__input popup__input_type_job ${errorDescription.error ? \"popup__input_novalid\" : \"\"}`}\r\n            type=\"text\" \r\n            id=\"job\"\r\n            value={description || ''}\r\n            onChange={handleChangeDescription}\r\n            name=\"job\" \r\n            placeholder=\"Занятие\" \r\n            minLength=\"2\" \r\n            maxLength=\"200\" \r\n            required \r\n            />\r\n            <span className={`popup__input-error ${errorDescription.error ? \"popup__input-error_active\" : \"\"}`} id=\"job-error\">\r\n                {errorDescription.errorText}\r\n            </span>\r\n        </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n    const linkRef = React.useRef();\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n      \r\n        onUpdateAvatar({\r\n          avatar: linkRef.current.value,\r\n        });\r\n        linkRef.current.value = '';\r\n    }\r\n    \r\n    return (\r\n        <PopupWithForm\r\n            title=\"Обновить аватар\"\r\n            name=\"change-avatar\"\r\n            submitText={`${isLoading ? \"Сохранение...\" : \"Сохранить\"}`}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            inputValues={true}\r\n            >\r\n            <label className=\"popup__field\">\r\n                <input \r\n                className=\"popup__input popup__input_type_avatar\" \r\n                type=\"url\"\r\n                id=\"link\"\r\n                ref={linkRef}\r\n                name=\"avatar\" \r\n                placeholder=\"Ссылка на картинку\" \r\n                required \r\n                />\r\n                <span className=\"popup__input-error\" id=\"link-error\" />\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n    const [errorName, setErrorName] = React.useState({});\r\n    const [errorLink, setErrorLink] = React.useState({});\r\n\r\n    const errorForm = errorName.error || errorLink.error;\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n        if (e.target.checkValidity()) {\r\n            setErrorName({\r\n                errorText: '',\r\n                error: false\r\n            });\r\n        }\r\n        else {\r\n            setErrorName({\r\n                errorText: e.target.validationMessage,\r\n                error: true\r\n            });\r\n        }  \r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setLink(e.target.value);\r\n        if (e.target.checkValidity()) {\r\n            setErrorLink({\r\n                errorText: '',\r\n                error: false\r\n            });\r\n        }\r\n        else {\r\n            setErrorLink({\r\n                errorText: e.target.validationMessage,\r\n                error: true\r\n            });\r\n        }\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: name,\r\n            link: link,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName('');\r\n        setLink('');\r\n        setErrorName({\r\n            errorText: '',\r\n            error: false\r\n        });\r\n        setErrorLink({\r\n            errorText: '',\r\n            error: false\r\n        });\r\n    }, [isOpen]);\r\n\r\n    \r\n\r\n    return (\r\n        <PopupWithForm\r\n            title=\"Новое место\"\r\n            name=\"cards\"\r\n            submitText={`${isLoading ? \"Сохранение...\" : \"Сохранить\"}`}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            errorForm={errorForm}\r\n            inputValues={name && link}\r\n            >\r\n            <label className=\"popup__field\">\r\n                <input\r\n                className={`popup__input popup__input_type_title ${errorName.error ? \"popup__input_novalid\" : \"\"}`}\r\n                type=\"text\"\r\n                id=\"title\"\r\n                name=\"name\"\r\n                value={name || ''}\r\n                onChange={handleChangeName}\r\n                placeholder=\"Название\"\r\n                minLength=\"1\"\r\n                maxLength=\"30\"\r\n                required\r\n                />\r\n                <span className={`popup__input-error ${errorName.error ? \"popup__input-error_active\" : \"\"}`} id=\"title-error\">\r\n                    {errorName.errorText}\r\n                </span>\r\n            </label>\r\n            <label className=\"popup__field\">\r\n                <input \r\n                className={`popup__input popup__input_type_link ${errorLink.error ? \"popup__input_novalid\" : \"\"}`}\r\n                type=\"url\" id=\"link\" \r\n                name=\"link\"\r\n                value={link || ''}\r\n                onChange={handleChangeLink}\r\n                placeholder=\"Ссылка на картинку\" \r\n                required />\r\n                <span className={`popup__input-error ${errorLink.error ? \"popup__input-error_active\" : \"\"}`} id=\"link-error\">\r\n                    {errorLink.errorText}\r\n                </span>\r\n            </label>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction DeleteCardPopup({ isOpen, onClose, onDeleteCard, currentCard, isLoading }) {\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onDeleteCard(currentCard);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n        title=\"Вы уверены?\"\r\n        name=\"delete-card\"\r\n        submitText={`${isLoading ? \"Удаление...\" : \"Да\"}`}\r\n        isOpen={isOpen}\r\n        onClose={onClose}\r\n        onSubmit={handleSubmit}\r\n        errorForm={false}\r\n        inputValues={true}\r\n        >\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default DeleteCardPopup;","import {config} from './utils.js'\r\n\r\nclass Api {\r\n    constructor(options) {\r\n        this.url = options.baseUrl;\r\n        this.headers = options.headers;\r\n    }\r\n\r\n    _handleResponse(response) {\r\n        if (response.ok) {\r\n          return response.json();\r\n        } else {\r\n          return Promise.reject(response.statusText)\r\n        }\r\n    }\r\n\r\n    _handleError (error) {\r\n        console.error(error)\r\n        return Promise.reject(error.message)\r\n      }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this.url}/users/me`, {\r\n            method: 'GET',\r\n            headers: this.headers\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleError);\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this.url}/cards`, {\r\n            method: 'GET',\r\n            headers: this.headers\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleError);\r\n    }\r\n\r\n    editUserInfo(name, about) {\r\n        return fetch(`${this.url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleError);\r\n    }\r\n\r\n    changeAvatar(url) {\r\n        return fetch(`${this.url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: url\r\n                })\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleError); \r\n    }\r\n\r\n    addCard(name, link) {\r\n        return fetch(`${this.url}/cards`, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n              })\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleError);\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this.url}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleError);\r\n    }\r\n\r\n    putLike(id) {\r\n        return fetch(`${this.url}/cards/likes/${id}`, {\r\n            method: 'PUT',\r\n            headers: this.headers,\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleError);\r\n    }\r\n\r\n    removeLike(id) {\r\n        return fetch(`${this.url}/cards/likes/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n        .then(this._handleResponse)\r\n        .catch(this._handleError);\r\n    }\r\n}\r\n\r\nexport const api = new Api(config);\r\n","export const config ={ \r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-13',\r\n    headers: {\r\n      authorization: '59580358-e9a0-4cbe-b603-f524907656bd',\r\n      'Content-Type': 'application/json'\r\n    }\r\n}","import React from 'react';\nimport { Route } from 'react-router-dom';\nimport Header from '../components/Header.js';\nimport Main from '../components/Main.js';\nimport Footer from '../components/Footer.js';\nimport ImagePopup from '../components/ImagePopup.js';\nimport EditProfilePopup from '../components/EditProfilePopup.js';\nimport EditAvatarPopup from '../components/EditAvatarPopup.js';\nimport AddPlacePopup from '../components/AddPlacePopup.js';\nimport DeleteCardPopup from '../components/DeleteCardPopup.js';\nimport { api } from '../utils/api.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction App() {\n\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n    const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\n    const [isLoading, setIsLoading] = React.useState(false);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [currentCard, setCurrentCard] = React.useState({});\n    const [selectedCard, setSelectedCard] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n\n    React.useEffect(() => {\n        api.getUserInfo()\n        .then((data) => {\n            setCurrentUser(data);\n        })\n        .catch((err) => {\n            console.error(err);\n        });\n    }, []);\n\n    function handleCardClick(name, link) {\n        setSelectedCard({\n            onShow: true, \n            name: name, \n            link: link\n        });\n    }\n\n    function handleEditAvatarClick() {\n        setIsEditAvatarPopupOpen(true);\n    }\n\n    function handleEditProfileClick() {\n        setIsEditProfilePopupOpen(true);\n    }\n\n    function handleAddPlaceClick() {\n        setIsAddPlacePopupOpen(true);\n    }\n\n    function handleDeleteCardClick(card) {\n        setIsDeleteCardPopupOpen(true);\n        setCurrentCard(card);\n    }\n\n    function closeAllPopups() {\n        setIsEditAvatarPopupOpen(false);\n        setIsEditProfilePopupOpen(false);\n        setIsAddPlacePopupOpen(false);\n        setIsDeleteCardPopupOpen(false);\n        setSelectedCard((selectedCard)=> {\n            return {...selectedCard, onShow: false}\n        });\n    }\n\n    React.useEffect(() => {\n        api.getInitialCards()\n        .then((data) => {\n            setCards(data);\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n    }, []);\n\n    React.useEffect(() => {\n        function handleEscClose(e) {\n          if (e.key === \"Escape\") {\n            closeAllPopups();\n          }\n        }\n    \n        function closeByOverlay(e) {\n          if (e.target.classList.contains('popup_opened')) {\n            closeAllPopups();\n          }\n        }\n    \n        document.addEventListener('keyup', handleEscClose);\n        document.addEventListener('click', closeByOverlay);\n\n        return () => {\n          document.removeEventListener('keyup', handleEscClose);\n          document.removeEventListener('click', closeByOverlay);\n        }\n    })\n\n    function handleCardLike(card) { \n        const isLiked = card.likes.some((like) => like._id === currentUser._id);\n        \n        if (!isLiked) {\n            api.putLike(card._id)\n            .then((newCard) => {\n                const newCards = cards.map((item) => item._id === card._id ? newCard : item);\n                setCards(newCards);\n            })\n            .catch((error) => {\n                console.error(error)\n            })\n        } else {\n            api.removeLike(card._id)\n            .then((newCard) => {\n                const newCards = cards.map((item) => item._id === card._id ? newCard : item);\n                setCards(newCards);\n            })\n            .catch((error) => {\n                console.error(error)\n            })\n        }\n    }\n\n    function handleCardDelete(card) {\n        setIsLoading(true);\n        api.deleteCard(card._id)\n        .then(() => {\n            const newCards = cards.filter(item => item._id !== card._id);\n            setCards(newCards);\n            closeAllPopups();\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n        .finally(() => {\n            setIsLoading(false);\n        })\n    }\n\n    function handleUpdateUser({name, about}) {\n        setIsLoading(true);\n        api.editUserInfo(name, about)\n        .then((data) => {\n            setCurrentUser(data);\n            closeAllPopups();\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n        .finally(() => {\n            setIsLoading(false);\n        })\n    }\n\n    function handleUpdateAvatar({avatar}) {\n        setIsLoading(true);\n        api.changeAvatar(avatar)\n        .then((data) => {\n            setCurrentUser(data);\n            closeAllPopups();\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n        .finally(() => {\n            setIsLoading(false);\n        })\n    }\n\n    function handleAddPlaceSubmit({name, link}) {\n        setIsLoading(true);\n        api.addCard(name, link)\n        .then((data) => {\n            setCards([data, ...cards]);\n            closeAllPopups();\n        })\n        .catch((error) => {\n            console.error(error)\n        })\n        .finally(() => {\n            setIsLoading(false);\n        })\n    }\n    \n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            <div className=\"page\">\n                <Header />\n\n                <Route path=\"/\">\n                    <Main\n                        onEditAvatar={handleEditAvatarClick} \n                        onEditProfile={handleEditProfileClick}\n                        onAddPlace={handleAddPlaceClick}\n                        onCardClick={handleCardClick}\n                        cards={cards}\n                        handleCardLike={handleCardLike}\n                        handleCardDelete={handleDeleteCardClick}\n                    />\n                </Route>\n\n                <Footer />\n\n                <ImagePopup\n                    card={selectedCard}\n                    onClose={closeAllPopups}\n                />\n\n                <EditProfilePopup \n                isOpen={isEditProfilePopupOpen}\n                onClose={closeAllPopups}\n                onUpdateUser={handleUpdateUser}\n                isLoading={isLoading}\n                />\n\n                <EditAvatarPopup \n                isOpen={isEditAvatarPopupOpen}\n                onClose={closeAllPopups}\n                onUpdateAvatar={handleUpdateAvatar}\n                isLoading={isLoading}\n                />\n\n                <AddPlacePopup\n                isOpen={isAddPlacePopupOpen}\n                onClose={closeAllPopups}\n                onAddPlace={handleAddPlaceSubmit}\n                isLoading={isLoading}\n                />\n\n                <DeleteCardPopup\n                isOpen={isDeleteCardPopupOpen}\n                onClose={closeAllPopups}\n                onDeleteCard={handleCardDelete}\n                currentCard={currentCard}\n                isLoading={isLoading}\n                />\n            </div>\n        </CurrentUserContext.Provider>\n    )\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter> \n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}